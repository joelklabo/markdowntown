@import "tailwindcss";
@config "../../tailwind.config.mjs";
@variant dark (&:where(.dark, .dark *));

@theme {
  /* Colors (map Tailwind utilities to MDT semantic vars) */
  --color-mdt-primary: var(--mdt-color-primary);
  --color-mdt-primary-strong: var(--mdt-color-primary-strong);
  --color-mdt-primary-soft: var(--mdt-color-primary-soft);
  --color-mdt-accent: var(--mdt-color-accent);
  --color-mdt-accent-soft: var(--mdt-color-accent-soft);
  --color-mdt-success: var(--mdt-color-success);
  --color-mdt-warning: var(--mdt-color-warning);
  --color-mdt-danger: var(--mdt-color-danger);
  --color-mdt-info: var(--mdt-color-info);
  --color-mdt-surface: var(--mdt-color-surface);
  --color-mdt-surface-subtle: var(--mdt-color-surface-subtle);
  --color-mdt-surface-strong: var(--mdt-color-surface-strong);
  --color-mdt-surface-raised: var(--mdt-color-surface-raised);
  --color-mdt-overlay: var(--mdt-color-overlay);
  --color-mdt-border: var(--mdt-color-border);
  --color-mdt-border-strong: var(--mdt-color-border-strong);
  --color-mdt-ring: var(--mdt-color-ring);
  --color-mdt-text: var(--mdt-color-text);
  --color-mdt-muted: var(--mdt-color-text-muted);
  --color-mdt-text-subtle: var(--mdt-color-text-subtle);
  --color-mdt-text-on-strong: var(--mdt-color-text-on-strong);
  /* Legacy aliases */
  --color-mdt-blue: var(--mdt-color-primary);
  --color-mdt-red: var(--mdt-color-danger);
  --color-mdt-yellow: var(--mdt-color-accent);
  --color-mdt-bg: var(--mdt-color-bg);
  --color-mdt-bg-soft: var(--mdt-color-surface-subtle);

  /* Typography */
  --font-sans: var(--font-inter), Inter, system-ui, sans-serif;
  --font-display: var(--font-display), var(--font-inter), Inter, system-ui, sans-serif;
  --font-mono: var(--font-mono), JetBrains Mono, SFMono-Regular, Menlo, monospace;

  --text-display: var(--mdt-type-display-size);
  --text-display--line-height: var(--mdt-type-display-lh);
  --text-display--font-weight: var(--mdt-type-display-fw);
  --text-h1: var(--mdt-type-h1-size);
  --text-h1--line-height: var(--mdt-type-h1-lh);
  --text-h1--font-weight: var(--mdt-type-h1-fw);
  --text-h2: var(--mdt-type-h2-size);
  --text-h2--line-height: var(--mdt-type-h2-lh);
  --text-h2--font-weight: var(--mdt-type-h2-fw);
  --text-h3: var(--mdt-type-h3-size);
  --text-h3--line-height: var(--mdt-type-h3-lh);
  --text-h3--font-weight: var(--mdt-type-h3-fw);
  --text-body: var(--mdt-type-body-size);
  --text-body--line-height: var(--mdt-type-body-lh);
  --text-body--font-weight: var(--mdt-type-body-fw);
  --text-body-sm: var(--mdt-type-body-sm-size);
  --text-body-sm--line-height: var(--mdt-type-body-sm-lh);
  --text-body-sm--font-weight: var(--mdt-type-body-sm-fw);
  --text-caption: var(--mdt-type-caption-size);
  --text-caption--line-height: var(--mdt-type-caption-lh);
  --text-caption--font-weight: var(--mdt-type-caption-fw);

  /* Spacing */
  --spacing-mdt-0: var(--mdt-space-0);
  --spacing-mdt-1: var(--mdt-space-1);
  --spacing-mdt-2: var(--mdt-space-2);
  --spacing-mdt-3: var(--mdt-space-3);
  --spacing-mdt-4: var(--mdt-space-4);
  --spacing-mdt-5: var(--mdt-space-5);
  --spacing-mdt-6: var(--mdt-space-6);
  --spacing-mdt-7: var(--mdt-space-7);
  --spacing-mdt-8: var(--mdt-space-8);
  --spacing-mdt-9: var(--mdt-space-9);
  --spacing-mdt-10: var(--mdt-space-10);
  --spacing-mdt-11: var(--mdt-space-11);
  --spacing-mdt-12: var(--mdt-space-12);
  --spacing-mdt-14: var(--mdt-space-14);
  --spacing-mdt-16: var(--mdt-space-16);

  /* Radii */
  --radius-mdt-sm: var(--radius-sm);
  --radius-mdt-md: var(--radius-md);
  --radius-mdt-lg: var(--radius-lg);
  --radius-mdt-pill: var(--radius-pill);

  /* Shadows */
  --shadow-mdt-sm: var(--mdt-shadow-sm);
  --shadow-mdt-md: var(--mdt-shadow-md);
  --shadow-mdt-lg: var(--mdt-shadow-lg);
  --shadow-mdt-focus: var(--mdt-shadow-focus);
  --shadow-mdt-glow: var(--mdt-shadow-glow);
  --shadow-mdt-btn: 0 1px 2px hsl(198 85% 52% / 0.22);
  --shadow-mdt-btn-hover: 0 2px 5px hsl(198 85% 52% / 0.28);

  /* Motion */
  --transition-duration-mdt-fast: var(--mdt-motion-fast);
  --transition-duration-mdt-base: var(--mdt-motion-base);
  --transition-duration-mdt-slow: var(--mdt-motion-slow);
  --ease-mdt-standard: var(--mdt-motion-ease-standard);
  --ease-mdt-emphasized: var(--mdt-motion-ease-emphasized);
}

/* Design tokens V2: primitives â†’ semantic roles with light/dark support */
:root {
  /* ==== Primitive palette (light) ==== */
  /* Neutrals */
  --mdt-neutral-0: hsl(220 30% 99%);
  --mdt-neutral-25: hsl(220 30% 98%);
  --mdt-neutral-50: hsl(220 28% 96%);
  --mdt-neutral-100: hsl(220 22% 92%);
  --mdt-neutral-200: hsl(220 18% 86%);
  --mdt-neutral-300: hsl(220 16% 78%);
  --mdt-neutral-400: hsl(222 14% 62%);
  --mdt-neutral-500: hsl(222 16% 48%);
  --mdt-neutral-600: hsl(222 22% 38%);
  --mdt-neutral-700: hsl(222 34% 24%);
  --mdt-neutral-800: hsl(222 42% 14%);
  --mdt-neutral-900: hsl(222 50% 9%);
  --mdt-neutral-950: hsl(222 58% 5%);

  /* Brand (blue) */
  --mdt-brand-50: hsl(198 100% 96%);
  --mdt-brand-100: hsl(198 95% 90%);
  --mdt-brand-200: hsl(198 92% 82%);
  --mdt-brand-300: hsl(198 90% 72%);
  --mdt-brand-400: hsl(198 88% 62%);
  --mdt-brand-500: hsl(198 85% 52%);
  --mdt-brand-600: hsl(198 87% 42%);
  --mdt-brand-700: hsl(198 90% 34%);

  /* Accent (violet) */
  --mdt-violet-50: hsl(258 100% 96%);
  --mdt-violet-100: hsl(258 96% 90%);
  --mdt-violet-200: hsl(258 90% 84%);
  --mdt-violet-300: hsl(258 88% 76%);
  --mdt-violet-400: hsl(258 86% 70%);
  --mdt-violet-500: hsl(258 82% 66%);
  --mdt-violet-600: hsl(258 80% 58%);
  --mdt-violet-700: hsl(258 78% 50%);

  /* Status hues */
  --mdt-success-500: hsl(157 60% 46%);
  --mdt-success-600: hsl(157 62% 40%);
  --mdt-warning-500: hsl(38 92% 50%);
  --mdt-warning-600: hsl(38 92% 44%);
  --mdt-danger-500: hsl(349 74% 52%);
  --mdt-danger-600: hsl(349 76% 46%);
  --mdt-info-500: hsl(210 90% 55%);
  --mdt-info-600: hsl(210 92% 48%);

  /* ==== Semantic color roles (light) ==== */
  --mdt-color-primary: var(--mdt-brand-500);
  --mdt-color-primary-strong: var(--mdt-brand-600);
  --mdt-color-primary-soft: var(--mdt-brand-100);
  --mdt-color-accent: var(--mdt-violet-500);
  --mdt-color-accent-soft: var(--mdt-violet-100);
  --mdt-color-success: var(--mdt-success-500);
  --mdt-color-success-soft: hsl(157 60% 46% / 0.15);
  --mdt-color-warning: var(--mdt-warning-500);
  --mdt-color-warning-soft: hsl(38 92% 50% / 0.15);
  --mdt-color-danger: var(--mdt-danger-500);
  --mdt-color-danger-soft: hsl(349 74% 52% / 0.16);
  --mdt-color-info: var(--mdt-info-500);
  --mdt-color-info-soft: hsl(210 90% 55% / 0.15);

  /* Surfaces */
  --mdt-color-bg: var(--mdt-neutral-25);
  --mdt-color-surface: var(--mdt-neutral-0);
  --mdt-color-surface-subtle: var(--mdt-neutral-50);
  --mdt-color-surface-strong: var(--mdt-neutral-100);
  --mdt-color-surface-raised: var(--mdt-neutral-0);
  --mdt-color-overlay: hsl(222 50% 8% / 0.45);

  /* Lines + rings */
  --mdt-color-border: var(--mdt-neutral-200);
  --mdt-color-border-strong: var(--mdt-neutral-300);
  --mdt-color-ring: hsl(198 85% 52% / 0.55);

  /* Text */
  --mdt-color-text: var(--mdt-neutral-900);
  --mdt-color-text-muted: var(--mdt-neutral-600);
  --mdt-color-text-subtle: var(--mdt-neutral-500);
  --mdt-color-text-on-strong: hsl(0 0% 100%);

  /* Data viz palette */
  --mdt-data-1: var(--mdt-brand-500);
  --mdt-data-2: var(--mdt-violet-500);
  --mdt-data-3: var(--mdt-success-500);
  --mdt-data-4: var(--mdt-warning-500);
  --mdt-data-5: var(--mdt-danger-500);
  --mdt-data-6: var(--mdt-info-500);
  --mdt-data-7: hsl(280 60% 58%);
  --mdt-data-8: hsl(120 55% 42%);

  /* Typography tokens (sizes are CSS vars for runtime theming) */
  --mdt-font-weight-regular: 400;
  --mdt-font-weight-medium: 500;
  --mdt-font-weight-semibold: 600;
  --mdt-font-weight-bold: 700;

  --mdt-type-display-size: 2.25rem;
  --mdt-type-display-lh: 1.15;
  --mdt-type-display-fw: var(--mdt-font-weight-semibold);

  --mdt-type-h1-size: 1.75rem;
  --mdt-type-h1-lh: 1.22;
  --mdt-type-h1-fw: var(--mdt-font-weight-semibold);

  --mdt-type-h2-size: 1.375rem;
  --mdt-type-h2-lh: 1.25;
  --mdt-type-h2-fw: var(--mdt-font-weight-semibold);

  --mdt-type-h3-size: 1.125rem;
  --mdt-type-h3-lh: 1.3;
  --mdt-type-h3-fw: var(--mdt-font-weight-medium);

  --mdt-type-body-size: 1rem;
  --mdt-type-body-lh: 1.5;
  --mdt-type-body-fw: var(--mdt-font-weight-regular);

  --mdt-type-body-sm-size: 0.875rem;
  --mdt-type-body-sm-lh: 1.45;
  --mdt-type-body-sm-fw: var(--mdt-font-weight-regular);

  --mdt-type-caption-size: 0.75rem;
  --mdt-type-caption-lh: 1.35;
  --mdt-type-caption-fw: var(--mdt-font-weight-regular);

  /* Shadows */
  --mdt-shadow-sm: 0 1px 2px hsl(222 47% 11% / 0.04);
  --mdt-shadow-md: 0 2px 6px hsl(222 47% 11% / 0.06);
  --mdt-shadow-lg: 0 6px 16px hsl(222 47% 11% / 0.08);
  --mdt-shadow-glow: 0 0 0 1px hsl(198 85% 52% / 0.18), 0 6px 18px hsl(222 47% 11% / 0.10);
  --mdt-shadow-focus: 0 0 0 3px var(--mdt-color-ring);

  /* Radii */
  --mdt-radius-sm: 4px;
  --mdt-radius-md: 8px;
  --mdt-radius-lg: 12px;
  --mdt-radius-pill: 999px;

  /* Legacy radii aliases */
  --radius-sm: var(--mdt-radius-sm);
  --radius-md: var(--mdt-radius-md);
  --radius-lg: var(--mdt-radius-lg);
  --radius-pill: var(--mdt-radius-pill);

  /* Motion */
  --mdt-motion-fast: 120ms;
  --mdt-motion-base: 180ms;
  --mdt-motion-slow: 260ms;
  --mdt-motion-exit: 150ms;
  --mdt-motion-enter: 220ms;
  --mdt-motion-ease-emphasized: cubic-bezier(0.16, 1, 0.3, 1);
  --mdt-motion-ease-standard: cubic-bezier(0.2, 0, 0, 1);
  --mdt-motion-ease-snappy: cubic-bezier(0.34, 1.56, 0.64, 1);
  --mdt-motion-distance-short: 6px;
  --mdt-motion-distance-mid: 16px;
  --mdt-motion-distance-far: 32px;

  /* Density + spacing tokens (4px base) */
  --mdt-density-scale: 1;
  --mdt-space-0: 0px;
  --mdt-space-1: calc(4px * var(--mdt-density-scale));
  --mdt-space-2: calc(8px * var(--mdt-density-scale));
  --mdt-space-3: calc(12px * var(--mdt-density-scale));
  --mdt-space-4: calc(16px * var(--mdt-density-scale));
  --mdt-space-5: calc(20px * var(--mdt-density-scale));
  --mdt-space-6: calc(24px * var(--mdt-density-scale));
  --mdt-space-7: calc(28px * var(--mdt-density-scale));
  --mdt-space-8: calc(32px * var(--mdt-density-scale));
  --mdt-space-9: calc(36px * var(--mdt-density-scale));
  --mdt-space-10: calc(40px * var(--mdt-density-scale));
  --mdt-space-11: calc(44px * var(--mdt-density-scale));
  --mdt-space-12: calc(48px * var(--mdt-density-scale));
  --mdt-space-14: calc(56px * var(--mdt-density-scale));
  --mdt-space-16: calc(64px * var(--mdt-density-scale));

  /* Legacy spacing aliases */
  --space-1: var(--mdt-space-1);
  --space-2: var(--mdt-space-2);
  --space-3: var(--mdt-space-3);
  --space-4: var(--mdt-space-4);
  --space-5: var(--mdt-space-5);
  --space-6: var(--mdt-space-6);
  --space-8: var(--mdt-space-8);
  --space-10: var(--mdt-space-10);
  --space-12: var(--mdt-space-12);
  --space-14: var(--mdt-space-14);
  --space-16: var(--mdt-space-16);
}

:root[data-density="compact"] {
  --mdt-density-scale: 0.85;
  --mdt-type-body-lh: 1.45;
  --mdt-type-body-sm-lh: 1.4;
}

.dark {
  /* ==== Primitive palette (dark) ==== */
  --mdt-neutral-0: hsl(220 18% 6%);
  --mdt-neutral-25: hsl(220 18% 8%);
  --mdt-neutral-50: hsl(220 18% 10%);
  --mdt-neutral-100: hsl(220 16% 14%);
  --mdt-neutral-200: hsl(220 16% 18%);
  --mdt-neutral-300: hsl(220 16% 22%);
  --mdt-neutral-400: hsl(220 16% 28%);
  --mdt-neutral-500: hsl(220 18% 38%);
  --mdt-neutral-600: hsl(220 15% 64%);
  --mdt-neutral-700: hsl(220 15% 74%);
  --mdt-neutral-800: hsl(220 20% 84%);
  --mdt-neutral-900: hsl(220 33% 92%);
  --mdt-neutral-950: hsl(0 0% 100%);

  --mdt-brand-50: hsl(198 80% 22% / 0.7);
  --mdt-brand-100: hsl(198 82% 28% / 0.55);
  --mdt-brand-200: hsl(198 84% 36%);
  --mdt-brand-300: hsl(198 86% 48%);
  --mdt-brand-400: hsl(198 86% 56%);
  --mdt-brand-500: hsl(198 86% 62%);
  --mdt-brand-600: hsl(198 88% 72%);
  --mdt-brand-700: hsl(198 90% 80%);

  --mdt-violet-50: hsl(258 84% 28% / 0.55);
  --mdt-violet-100: hsl(258 86% 36% / 0.6);
  --mdt-violet-200: hsl(258 88% 46%);
  --mdt-violet-300: hsl(258 90% 56%);
  --mdt-violet-400: hsl(258 92% 64%);
  --mdt-violet-500: hsl(258 85% 72%);
  --mdt-violet-600: hsl(258 88% 78%);
  --mdt-violet-700: hsl(258 90% 84%);

  --mdt-success-500: hsl(157 58% 56%);
  --mdt-success-600: hsl(157 60% 62%);
  --mdt-warning-500: hsl(38 95% 60%);
  --mdt-warning-600: hsl(38 98% 66%);
  --mdt-danger-500: hsl(349 76% 62%);
  --mdt-danger-600: hsl(349 78% 68%);
  --mdt-info-500: hsl(210 92% 70%);
  --mdt-info-600: hsl(210 94% 76%);

  /* ==== Semantic color roles (dark) ==== */
  --mdt-color-primary: var(--mdt-brand-500);
  --mdt-color-primary-strong: var(--mdt-brand-600);
  --mdt-color-primary-soft: var(--mdt-brand-50);
  --mdt-color-accent: var(--mdt-violet-500);
  --mdt-color-accent-soft: var(--mdt-violet-50);
  --mdt-color-success: var(--mdt-success-500);
  --mdt-color-success-soft: hsl(157 58% 56% / 0.15);
  --mdt-color-warning: var(--mdt-warning-500);
  --mdt-color-warning-soft: hsl(38 95% 60% / 0.15);
  --mdt-color-danger: var(--mdt-danger-500);
  --mdt-color-danger-soft: hsl(349 76% 62% / 0.16);
  --mdt-color-info: var(--mdt-info-500);
  --mdt-color-info-soft: hsl(210 92% 70% / 0.15);

  --mdt-color-bg: var(--mdt-neutral-0);
  --mdt-color-surface: var(--mdt-neutral-50);
  --mdt-color-surface-subtle: var(--mdt-neutral-100);
  --mdt-color-surface-strong: var(--mdt-neutral-200);
  --mdt-color-surface-raised: var(--mdt-neutral-300);
  --mdt-color-overlay: hsl(220 32% 4% / 0.7);

  --mdt-color-border: var(--mdt-neutral-400);
  --mdt-color-border-strong: var(--mdt-neutral-500);
  --mdt-color-ring: hsl(198 88% 65% / 0.45);

  --mdt-color-text: var(--mdt-neutral-900);
  --mdt-color-text-muted: var(--mdt-neutral-700);
  --mdt-color-text-subtle: var(--mdt-neutral-600);
  --mdt-color-text-on-strong: hsl(220 16% 12%);

  --mdt-data-1: var(--mdt-brand-500);
  --mdt-data-2: var(--mdt-violet-500);
  --mdt-data-3: var(--mdt-success-500);
  --mdt-data-4: var(--mdt-warning-500);
  --mdt-data-5: var(--mdt-danger-500);
  --mdt-data-6: var(--mdt-info-500);
  --mdt-data-7: hsl(280 70% 65%);
  --mdt-data-8: hsl(120 60% 52%);

  --mdt-shadow-sm: 0 1px 2px hsl(220 33% 3% / 0.6);
  --mdt-shadow-md: 0 2px 6px hsl(220 33% 3% / 0.7);
  --mdt-shadow-lg: 0 6px 16px hsl(220 33% 3% / 0.8);
  --mdt-shadow-glow: 0 0 0 1px hsl(198 88% 65% / 0.18), 0 6px 18px hsl(220 33% 3% / 0.7);
  --mdt-shadow-focus: 0 0 0 3px var(--mdt-color-ring);
}

@layer base {
  html,
  body {
    background-color: var(--mdt-color-bg);
    color: var(--mdt-color-text);
    font-family: var(--font-inter), system-ui, -apple-system, sans-serif;
  }

  .dark html,
  .dark body {
    background-color: var(--mdt-color-bg);
    color: var(--mdt-color-text);
  }

  :focus-visible {
    outline: 2px solid var(--mdt-color-ring);
    outline-offset: 3px;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-mdt-md
      px-4 py-2 text-body-sm font-medium transition
      duration-150 ease-out border border-transparent;
  }

  .btn-primary {
    @apply bg-mdt-blue text-white shadow-mdt-btn;
  }
  .btn-primary:hover {
    @apply bg-[color:var(--mdt-color-primary-strong)] shadow-mdt-btn-hover;
  }
  .btn-primary:active {
    @apply translate-y-0 shadow-mdt-sm;
  }

  .btn-secondary {
    @apply bg-mdt-surface text-mdt-text border-mdt-border;
  }
  .btn-secondary:hover {
    @apply bg-mdt-surface-subtle;
  }
  .dark .btn-secondary {
    @apply bg-mdt-surface text-mdt-text border-mdt-border;
  }
  .dark .btn-secondary:hover {
    @apply bg-mdt-surface-subtle;
  }

  .card {
    @apply bg-mdt-surface rounded-mdt-md border border-mdt-border
      shadow-mdt-sm p-4 transition duration-mdt-base ease-mdt-emphasized;
  }
  .card:hover {
    @apply shadow-mdt-md border-mdt-border-strong;
  }

  .pill {
    @apply inline-flex items-center rounded-mdt-pill px-2 py-[2px]
    text-caption font-medium;
  }
  .pill-primary {
    @apply bg-[color:var(--mdt-color-primary-soft)] text-[color:var(--mdt-color-primary-strong)];
  }
  .pill-yellow {
    @apply bg-[color:var(--mdt-color-accent-soft)] text-[color:var(--mdt-color-accent)];
  }
  .pill-blue {
    @apply bg-[color:var(--mdt-color-info)]/15 text-[color:var(--mdt-color-info)];
  }
  .pill-red {
    @apply bg-[color:var(--mdt-color-danger)]/16 text-[color:var(--mdt-color-danger)];
  }
  .pill-green {
    @apply bg-[color:var(--mdt-color-success)]/15 text-[color:var(--mdt-color-success)];
  }
  .pill-gray {
    @apply bg-[color:var(--mdt-color-surface-strong)] text-[color:var(--mdt-color-text)];
  }

  .skip-link {
    @apply absolute left-[-999px] top-[-999px] z-50 rounded-mdt-pill bg-mdt-blue px-3 py-2 text-sm font-medium text-white;
  }
  .skip-link:focus-visible {
    @apply left-3 top-3;
  }
}

@layer utilities {
  .motion-fade-in {
    animation: mdt-fade-in var(--mdt-motion-enter) var(--mdt-motion-ease-standard) both;
  }
  .motion-slide-up {
    animation: mdt-slide-up var(--mdt-motion-enter) var(--mdt-motion-ease-emphasized) both;
  }
  .motion-scale-in {
    animation: mdt-scale-in var(--mdt-motion-enter) var(--mdt-motion-ease-snappy) both;
  }
  .motion-skeleton {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.04) 0%,
      rgba(255, 255, 255, 0.14) 50%,
      rgba(255, 255, 255, 0.04) 100%
    );
    background-size: 200% 100%;
    animation: mdt-skeleton 1.4s var(--mdt-motion-ease-standard) infinite;
  }

  .mdt-radix-overlay {
    will-change: opacity;
  }
  .mdt-radix-overlay[data-state="open"] {
    animation: mdt-radix-fade-in var(--mdt-motion-enter) var(--mdt-motion-ease-standard) both;
  }
  .mdt-radix-overlay[data-state="closed"] {
    animation: mdt-radix-fade-out var(--mdt-motion-exit) var(--mdt-motion-ease-standard) both;
  }

  .mdt-radix-panel-scale,
  .mdt-radix-panel-slide {
    will-change: transform, opacity;
  }
  .mdt-radix-panel-scale[data-state="open"],
  .mdt-radix-panel-scale[data-state="delayed-open"],
  .mdt-radix-panel-scale[data-state="instant-open"] {
    animation: mdt-radix-panel-scale-in var(--mdt-motion-enter) var(--mdt-motion-ease-emphasized) both;
  }
  .mdt-radix-panel-scale[data-state="closed"] {
    animation: mdt-radix-panel-scale-out var(--mdt-motion-exit) var(--mdt-motion-ease-standard) both;
  }
  .mdt-radix-panel-slide[data-state="open"],
  .mdt-radix-panel-slide[data-state="delayed-open"],
  .mdt-radix-panel-slide[data-state="instant-open"] {
    animation: mdt-radix-panel-slide-in var(--mdt-motion-enter) var(--mdt-motion-ease-emphasized) both;
  }
  .mdt-radix-panel-slide[data-state="closed"] {
    animation: mdt-radix-panel-slide-out var(--mdt-motion-exit) var(--mdt-motion-ease-standard) both;
  }
}

@keyframes mdt-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes mdt-slide-up {
  from {
    transform: translateY(var(--mdt-motion-distance-mid));
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes mdt-scale-in {
  from {
    transform: scale(0.97);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes mdt-radix-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes mdt-radix-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes mdt-radix-panel-scale-in {
  from {
    transform: scale(0.97);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes mdt-radix-panel-scale-out {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0.97);
    opacity: 0;
  }
}

@keyframes mdt-radix-panel-slide-in {
  from {
    transform: translateY(var(--mdt-motion-distance-mid));
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes mdt-radix-panel-slide-out {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(var(--mdt-motion-distance-mid));
    opacity: 0;
  }
}

@keyframes mdt-skeleton {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.dark .motion-skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.12) 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }
}

.markdown-preview {
  font-size: 0.95rem;
  line-height: 1.6;
  color: var(--mdt-color-text);
}

.markdown-preview h1,
.markdown-preview h2,
.markdown-preview h3 {
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  font-weight: 600;
}

.markdown-preview p {
  margin-bottom: 0.75rem;
}

.markdown-preview code {
  padding: 0.1rem 0.35rem;
  background: var(--mdt-color-surface-subtle);
  border-radius: 0.25rem;
  font-size: 0.9rem;
  color: var(--mdt-color-text);
}
.dark .markdown-preview code {
  background: var(--mdt-color-surface-strong);
  color: var(--mdt-color-text);
}

.markdown-preview pre {
  background: var(--mdt-color-surface-strong);
  color: var(--mdt-color-text);
  padding: 0.75rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  font-size: 0.9rem;
}
.dark .markdown-preview pre {
  background: var(--mdt-color-surface-subtle);
}

@media (max-width: 768px) {
  .composer-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .composer-panel {
    width: 100%;
  }
}
